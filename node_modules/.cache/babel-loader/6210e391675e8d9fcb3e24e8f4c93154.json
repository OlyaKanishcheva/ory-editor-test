{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar changes_1 = require(\"../changes\");\n\nvar utils_1 = require(\"../utils\");\n/**\r\n * User pressed Enter in an editor\r\n *\r\n * Enter in a list item should split the list item\r\n * Enter in an empty list item should remove it\r\n * Shift+Enter in a list item should make a new line\r\n */\n\n\nfunction onEnter(event, editor, opts, next) {\n  // Pressing Shift+Enter\n  // should split block normally\n  if (event.shiftKey) {\n    return next();\n  }\n\n  var value = editor.value;\n  var currentItem = utils_1.getCurrentItem(opts)(value); // Not in a list\n\n  if (!currentItem) {\n    return next();\n  }\n\n  event.preventDefault(); // If expanded, delete first.\n\n  if (value.selection.isExpanded) {\n    editor.delete();\n  }\n\n  if (currentItem.nodes.every(function (node) {\n    return node.text === '';\n  })) {\n    // Block is empty, we exit the list\n    if (utils_1.getItemDepth(opts)(value) > 1) {\n      return changes_1.decreaseItemDepth(opts, editor);\n    } // Exit list\n\n\n    return changes_1.unwrapList(opts, editor);\n  } // Split list item\n\n\n  return changes_1.splitListItem(opts, editor);\n}\n\nexports.default = onEnter;","map":null,"metadata":{},"sourceType":"script"}