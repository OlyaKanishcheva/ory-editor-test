"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var utils_1 = require("../utils");
var changes_1 = require("../changes");
/**
 * User pressed Delete in an editor:
 * Unwrap the blockquote if at the start of the inner block.
 */
function onBackspace(event, editor, opts, next) {
    var value = editor.value;
    if (!utils_1.getCurrentBlockquote(opts)(value) || !value.selection.isCollapsed) {
        return next();
    }
    if (value.selection.start.offset !== 0) {
        return next();
    }
    // Block is empty, we exit the blockquote
    event.preventDefault();
    changes_1.unwrapBlockquote(opts, editor);
    return true;
}
exports.default = onBackspace;
//# sourceMappingURL=onBackspace.js.map